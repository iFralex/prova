"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{1958:function(e,r,t){t.d(r,{qE:function(){return U},kZ:function(){return y},Sz:function(){return d},_N:function(){return F},GR:function(){return j},yn:function(){return $},qX:function(){return T},_p:function(){return R},tC:function(){return O},ko:function(){return f},eu:function(){return b},Cb:function(){return g},dN:function(){return v},DA:function(){return h},kS:function(){return p},Fu:function(){return N},Hu:function(){return S},c0:function(){return w},Ig:function(){return m},O9:function(){return C},pr:function(){return A},hN:function(){return P},WY:function(){return x}});var a,n=t(5236),i=t(516),o=t(357);o.env.AUTH_COOKIE_NAME,o.env.AUTH_COOKIE_SIGNATURE_KEY_CURRENT,o.env.AUTH_COOKIE_SIGNATURE_KEY_PREVIOUS,o.env.USE_SECURE_COOKIES,o.env.FIREBASE_ADMIN_CLIENT_EMAIL,null===(a=o.env.FIREBASE_ADMIN_PRIVATE_KEY)||void 0===a||a.replace(/\\n/g,"\n");var s=t(5186);let c=(0,n.ZF)({projectId:"unica-3d18c",apiKey:"AIzaSyA4SxhPobYVbiNpM6To9xXFmfs8Pz-YuPE",authDomain:"unica-3d18c.firebaseapp.com",databaseURL:"https://unica-ecommerce.europe-west1.firebasedatabase.app",messagingSenderId:"29827336752",appId:"1:29827336752:web:7fc72b927c53480cecbbf5",measurementId:"G-61K1R5KXG2",storageBucket:"unica-3d18c.appspot.com"}),l=(0,i.N8)(c),u=(0,s.v0)(c);u.useDeviceLanguage();let d=async(e,r,t)=>{let a=await (0,s.Xb)(u,e,r);return await x(t,a),a},f=async(e,r)=>(0,s.e5)(u,e,r),b=async()=>await (0,s.rh)(u,new s._O),v=async()=>await (0,s.rh)(u,new s.O4("microsoft.com")),h=async()=>await (0,s.rh)(u,new s.c4),p=async()=>await (0,s.w7)(u),g=async()=>await (0,s.rh)(u,new s.hJ),m=async(e,r,t,a)=>{await (0,s.oo)(u,e,{url:"http://localhost:3000/signin-mail-link"+(t?"?username="+t:"")+(a?"&userId="+a:"")+(r?"&target="+r:""),handleCodeInApp:!0}),window.localStorage.setItem("emailForSignIn",e)},y=async()=>{if((0,s.JB)(u,window.location.href)){let e=window.localStorage.getItem("emailForSignIn");if(!e)return!1;let r=await (0,s.P6)(u,null!=e?e:"",window.location.href);return window.localStorage.removeItem("emailForSignIn"),r}return!1},w=async e=>await (0,s.LS)(u,e),x=async(e,r)=>{(r||u.currentUser)&&(await (0,s.ck)(r||u.currentUser,{displayName:e}),u.currentUser&&(await u.currentUser.reload(),await fetch("/api/login",{headers:{Authorization:"Bearer ".concat(await u.currentUser.getIdToken())}})))},k=async(e,r)=>(0,i.t8)((0,i.iH)(l,e),r),E=async(e,r)=>(0,i.VF)((0,i.iH)(l,e),r),I=async e=>(0,i.U2)((0,i.iH)(l,e)),_=async e=>(0,i.Od)((0,i.iH)(l,e)),N=async(e,r)=>{try{return(await E("",{cart:{[e]:r}})).key}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},S=async(e,r)=>{try{return(await E("",{favorites:{[e]:r}})).key}catch(e){return Error("Impossibile salvare sul database il prodotto nei preferiti: "+e)}},C=async(e,r,t)=>{try{return k(e+"/cart/"+r,t)}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},A=async(e,r,t)=>{try{return k(e+"/favorites/"+r,t)}catch(e){return Error("Impossibile salvare sul database il prodotto preferito: "+e)}},U=async(e,r,t)=>{try{return k(e+"/cart/"+r+"/quantity",t)}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},j=async(e,r)=>{try{return _(e+"/cart/"+r)}catch(e){return Error("Impossibile eliminare i dati sul database: "+e)}},T=async(e,r)=>{try{return _(e+"/favorites/"+r)}catch(e){return Error("Impossibile eliminare il prodotto preferito sul database: "+e)}},R=async e=>{try{let r=await I(e+"/cart");if(!r.exists())throw Error("Non esiste");let t=[];return r.forEach(e=>{t.push(e.val())}),t}catch(e){return Error("Impossibile recuperare dati dal database il carrello: "+e)}},O=async e=>{try{let r=await I(e+"/favorites");if(!r.exists())throw Error("Non esiste");let t=[];return r.forEach(e=>{t.push({vId:parseInt(e.key),pId:e.val()})}),t}catch(e){return Error("Impossibile recuperare dati dal database il carrello: "+e)}},P=async(e,r)=>{var t;r||(r=null===(t=u.currentUser)||void 0===t?void 0:t.uid);let a=await I(e);a.exists()&&(await k(r,a.val()),await _(e))},$=async e=>e?await _(e):null,F=async(e,r)=>{try{await _(e+"/info/addressIds/"+r)}catch(e){console.log(e)}}},2676:function(e,r,t){t.d(r,{OT:function(){return o},Wu:function(){return s},d8:function(){return c},ej:function(){return l},kT:function(){return n},u8:function(){return i}}),t(4590);var a=t(8064),n=(0,a.$)("eef48ae50c6ee2b51956373709bfc8e1fd71f027");(0,a.$)("4f9de1cccf1905ec51e323f44e966a1a8cdc9d73"),(0,a.$)("54a905bb6407b715be07099c6933de0b35d3080d"),(0,a.$)("125cfabe0701eaebf26c0b27986d24d059ab1cae"),(0,a.$)("1bc319d19bc2826f96db868b847c73364ec2c822");var i=(0,a.$)("26b55164fb32dc0b575df0ce30f23b51e65c5d85"),o=(0,a.$)("4cb8e9a8e005047a468328ab69d2617b27402f7e");(0,a.$)("4e5e95d168e33efb08bb5e9f5d639b315af93cae");var s=(0,a.$)("8d0d025b29591fb0a84b2bba68ce52be209f8c77");(0,a.$)("a95f75fa805b78030491b3418b5df39c45a932bc"),(0,a.$)("c9b0a83fff0eb181204dd715b93039c9e68f9433");var c=(0,a.$)("64351141cae5934a52ac85ba1b37b39377aab9d6"),l=(0,a.$)("4d72c7d3457ea873af6b38a6438ed28a853c3c31")},5776:function(e,r,t){t.d(r,{A9:function(){return l},CartProvider:function(){return u},ContextListeners:function(){return h},FavoritesProvider:function(){return f},St:function(){return b},ThemeProvider:function(){return c},UserProvider:function(){return v},Yi:function(){return d}});var a=t(7437),n=t(2265),i=t(9512),o=t(2676),s=t(1958);function c(e){let{children:r,...t}=e;return(0,a.jsx)(i.f,{...t,children:r})}let l=(0,n.createContext)([null,null]);function u(e){let{children:r}=e,[t,i]=(0,n.useState)(null);return(0,a.jsx)(l.Provider,{value:[t,i],children:r})}let d=(0,n.createContext)([[],()=>{}]);function f(e){let{children:r}=e,[t,i]=(0,n.useState)([]);return(0,a.jsx)(d.Provider,{value:[t,i],children:r})}let b=(0,n.createContext)([{cart:[],cartQuantity:-1},null]);function v(e){let{children:r}=e,[t,i]=(0,n.useState)({id:""});return(0,a.jsx)(b.Provider,{value:[t,i],children:r})}let h=e=>{let{loggedUserId:r}=e,[t,i]=(0,n.useContext)(b),[c,u]=(0,n.useContext)(l),[f,v]=(0,n.useContext)(d);return(0,n.useEffect)(()=>{(0,o.ej)("cookieID").then(async e=>{console.log("cookie",e,"user",r),r&&(e=r),e?(await (async()=>{let r=await (0,s._p)(e);if(r instanceof Error)return u([]),console.log("Error cartLight:",r.message);let t=await (0,o.u8)(r);if(console.log(t),t instanceof Error||!t)return u([]),console.log("Error cart:",t.message);u(t)})(),await (async()=>{let r=await (0,s.tC)(e);if(r instanceof Error)return v([]),console.log("Error favoritesLight:",r.message);let t=await (0,o.Wu)(r);if(console.log(t),t instanceof Error||!t)return v([]),console.log("Error favorites:",t.message);v(t)})()):(u([]),v([])),i({id:null!=e?e:"noid"}),console.log("started id:",e,null!=e?e:"noid")})},[r]),(0,n.useEffect)(()=>{"noid"!==t.id&&t.id&&!r&&(0,o.d8)("cookieID",t.id,{maxAge:31536e3})},[t.id]),(0,a.jsx)(a.Fragment,{})}},6949:function(e,r,t){var a=t(7437);t(2265);var n=t(9472),i=t(9354);let o={initial:{"--x":"100%",scale:.8},animate:{"--x":"-100%",scale:1},whileTap:{scale:.95},transition:{repeat:1/0,repeatType:"loop",repeatDelay:1,type:"spring",stiffness:20,damping:15,mass:2,scale:{type:"spring",stiffness:200,damping:5,mass:.5}}};r.default=e=>{let{children:r,className:t,...s}=e;return(0,a.jsxs)(n.E.button,{...o,...s,className:(0,i.cn)("relative rounded-lg font-medium backdrop-blur-xl transition-shadow duration-300 ease-in-out hover:shadow dark:bg-[radial-gradient(circle_at_50%_0%,hsl(var(--primary)/10%)_0%,transparent_60%)] dark:hover:shadow-[0_0_20px_hsl(var(--primary)/10%)]",t),children:[(0,a.jsx)("span",{className:"relative block size-full text-sm uppercase tracking-wide text-[rgb(0,0,0,65%)] dark:font-light dark:text-[rgb(255,255,255,90%)]",style:{maskImage:"linear-gradient(-75deg,hsl(var(--primary)) calc(var(--x) + 20%),transparent calc(var(--x) + 30%),hsl(var(--primary)) calc(var(--x) + 100%))"},children:r}),(0,a.jsx)("span",{style:{mask:"linear-gradient(rgb(0,0,0), rgb(0,0,0)) content-box,linear-gradient(rgb(0,0,0), rgb(0,0,0))",WebkitMaskComposite:"exclude",maskComposite:"exclude"},className:"absolute inset-0 z-10 block rounded-[inherit] bg-[linear-gradient(-75deg,hsl(var(--primary)/10%)_calc(var(--x)+20%),hsl(var(--primary)/50%)_calc(var(--x)+25%),hsl(var(--primary)/10%)_calc(var(--x)+100%))] p-px"})]})}},9733:function(e,r,t){t.d(r,{d:function(){return l},z:function(){return u}});var a=t(7437),n=t(2265),i=t(3355),o=t(2218),s=t(6949),c=t(9354);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",buy:"bg-buy text-slate-50 hover:bg-black hover:border hover:border-white",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=n.forwardRef((e,r)=>{let{className:t,variant:n,size:o,asChild:u=!1,children:d,...f}=e,b=u?i.g7:"button";return"buy"===n?(0,a.jsx)(s.default,{className:t,...f,children:(0,a.jsx)("span",{className:(0,c.cn)(l({variant:n,size:o}),"w-full"),ref:r,children:d})}):(0,a.jsx)(b,{className:(0,c.cn)(l({variant:n,size:o,className:t})),ref:r,...f,children:d})});u.displayName="Button"},9973:function(e,r,t){t.d(r,{Separator:function(){return s}});var a=t(7437),n=t(2265),i=t(8484),o=t(9354);let s=n.forwardRef((e,r)=>{let{className:t,orientation:n="horizontal",decorative:s=!0,...c}=e;return(0,a.jsx)(i.f,{ref:r,decorative:s,orientation:n,className:(0,o.cn)("shrink-0 bg-slate-200 dark:bg-slate-800","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",t),...c})});s.displayName=i.f.displayName},9354:function(e,r,t){t.d(r,{cn:function(){return i},f:function(){return o}});var a=t(4839),n=t(6164);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,a.W)(r))}let o=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)}}]);