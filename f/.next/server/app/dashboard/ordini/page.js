(()=>{var e={};e.id=487,e.ids=[487],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71396:e=>{"use strict";e.exports=require("undici")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},41808:e=>{"use strict";e.exports=require("net")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},6218:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(1645),r(93111),r(44896),r(35866);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["dashboard",{children:["ordini",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1645)),"/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/app/dashboard/ordini/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,93111)),"/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,44896)),"/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/app/dashboard/ordini/page.tsx"],u="/dashboard/ordini/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/ordini/page",pathname:"/dashboard/ordini",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67070:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,74346)),Promise.resolve().then(r.bind(r,78062))},1645:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(19510),a=r(88894),i=r(83795),n=r(99148),l=r(90245),o=r(59558),d=r(10797),c=r(93804),u=r(98266),p=r(40644),x=r(17710),f=r(57371),m=r(58585);let h=async()=>{let e=await (0,a.getAuthToken)();e||(0,m.notFound)();let t=(await (0,i.AU)(e.decodedToken.uid)).sort((e,t)=>t.createdDate-e.createdDate),r=await (0,n.getProductsLightFromCartsLight)(t.map(e=>e.items).flat().filter((e,t,r)=>t===r.findIndex(t=>JSON.stringify(t)===JSON.stringify(e))));return r instanceof Error?s.jsx(s.Fragment,{}):s.jsx(l.m,{title:"I tuoi ordini",children:t.length?s.jsx("div",{className:"grid grid-cols-1 gap-3 w-full",children:t.map((e,t,a)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"grid w-full p-3",children:[(0,s.jsxs)("div",{className:"flex flex-wrap justify-between items-center",children:[(0,s.jsxs)("h2",{className:"font-bold text-lg",children:["Ordine del ",(0,p.B)(e.createdDate)]}),s.jsx(d.z,{variant:"outline",className:"px-8",children:s.jsx(f.default,{href:"/dashboard/ordini/"+e.orderId,children:"Tutti i dettagli"})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap",children:[(0,s.jsxs)("p",{children:["Stato della spedizione: ",e.shippingId]}),s.jsx(u.Z,{orientation:"vertical",className:"mx-5"}),(0,s.jsxs)("p",{children:["Importo totale: ",(0,p.f)(e.price)]})]}),s.jsx(u.Z,{className:"my-3"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.items.map(e=>{let t;for(let s of r)s.id===e.productId&&s.variantIndex===e.variantIndex&&(t=s);return t?s.jsx(f.default,{href:"/"+t.urlPath,children:(0,s.jsxs)(c.Zb,{className:"flex gap-2 p-2",children:[s.jsx(x.default,{src:"http://localhost:1337"+t.image.url,width:t.image.width/2,height:t.image.height/2,alt:"Immagine di "+t.name}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"text-lg font-bold",children:[t.name," x",e.quantity]}),(0,s.jsxs)("div",{className:"flex space-x-3 flex-wrap my-3",children:[s.jsx(o.C,{variant:"outline",className:"bg-white min-h-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-start flex-no-wrap",children:[s.jsx("div",{className:"w-4 h-4 rounded-full inline-block mr-1",style:{backgroundColor:"#"+t.material?.Color}}),s.jsx("span",{children:t.material?.Name})]})}),s.jsx(o.C,{variant:"outline",className:"min-h-8",children:s.jsx("div",{className:"flex items-center justify-center flex-wrap space-x-2",children:t.platings.map((e,t)=>s.jsx("span",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 rounded-full inline-block",style:{backgroundColor:"#"+e.attributes.Color}})},t))})})]})]})]},e.productId+","+e.variantIndex)}):s.jsx(s.Fragment,{})})})]}),t<a.length-1&&s.jsx(u.Z,{className:"my"})]},e.orderId))}):(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 text-center",children:[s.jsx("h3",{className:"text-2xl font-bold tracking-tight",children:"Nessun ordine"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Non hai ancora ordinato nulla. Fai il tuo primo ordine ora!"}),s.jsx(d.z,{className:"mt-4",children:s.jsx(f.default,{href:"/",children:"Vai alla home"})})]})})},g=async()=>s.jsx(h,{})},59558:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(19510);r(71159);var a=r(60791),i=r(40644);let n=(0,a.j)("relative inline-flex items-center rounded-full border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark:border-slate-800 dark:focus:ring-slate-300",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/80",outline:"text-slate-950 dark:text-slate-50"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,circle:r=null,...a}){return s.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...a})}},10797:(e,t,r)=>{"use strict";r.d(t,{z:()=>g});var s=r(19510),a=r(71159),i=a.forwardRef((e,t)=>{let{children:r,...i}=e,l=a.Children.toArray(r),d=l.find(o);if(d){let e=d.props.children,r=l.map(t=>t!==d?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,s.jsx)(n,{...i,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,s.jsx)(n,{...i,ref:t,children:r})});i.displayName="Slot";var n=a.forwardRef((e,t)=>{let{children:r,...s}=e;if(a.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return a.cloneElement(r,{...function(e,t){let r={...t};for(let s in t){let a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...e)=>{i(...e),a(...e)}:a&&(r[s]=a):"style"===s?r[s]={...a,...i}:"className"===s&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props),ref:t?function(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}(t,e):e})}return a.Children.count(r)>1?a.Children.only(null):null});n.displayName="SlotClone";var l=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function o(e){return a.isValidElement(e)&&e.type===l}var d=r(60791),c=r(68570);let u=(0,c.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/magicui/shiny-button.tsx`),{__esModule:p,$$typeof:x}=u;u.default;let f=(0,c.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/magicui/shiny-button.tsx#default`);var m=r(40644);let h=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",buy:"bg-buy text-slate-50 hover:bg-black hover:border hover:border-white",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,children:n,...l},o)=>{let d=a?i:"button";return"buy"===t?s.jsx(f,{className:e,...l,children:s.jsx("span",{className:(0,m.cn)(h({variant:t,size:r}),"w-full"),ref:o,children:n})}):s.jsx(d,{className:(0,m.cn)(h({variant:t,size:r,className:e})),ref:o,...l,children:n})});g.displayName="Button"},60791:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});let s=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,a=function(){for(var e,t,r=0,s="";r<arguments.length;)(e=arguments[r++])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s);else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(s&&(s+=" "),s+=t);return s},i=(e,t)=>r=>{var i;if((null==t?void 0:t.variants)==null)return a(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:l}=t,o=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let i=s(t)||s(a);return n[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return a(e,o,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...d}[t]):({...l,...d})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[878,576,710,899,275,10],()=>r(6218));module.exports=s})();