exports.id=275,exports.ids=[275],exports.modules={82847:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},63558:(e,a,t)=>{Promise.resolve().then(t.bind(t,86196)),Promise.resolve().then(t.bind(t,32333)),Promise.resolve().then(t.bind(t,97477))},12731:(e,a,t)=>{"use strict";t.d(a,{qE:()=>S,kZ:()=>g,Sz:()=>d,_N:()=>U,GR:()=>z,yn:()=>A,qX:()=>E,_p:()=>D,tC:()=>_,ko:()=>c,eu:()=>u,Cb:()=>h,dN:()=>p,DA:()=>m,kS:()=>f,Fu:()=>I,Hu:()=>k,c0:()=>b,Ig:()=>x,O9:()=>C,pr:()=>P,hN:()=>T,WY:()=>v});var r=t(42585),s=t(18558);process.env.AUTH_COOKIE_NAME,process.env.AUTH_COOKIE_SIGNATURE_KEY_CURRENT,process.env.AUTH_COOKIE_SIGNATURE_KEY_PREVIOUS,process.env.USE_SECURE_COOKIES,process.env.FIREBASE_ADMIN_CLIENT_EMAIL,process.env.FIREBASE_ADMIN_PRIVATE_KEY?.replace(/\\n/g,"\n");var i=t(7083);let o=(0,r.ZF)({projectId:"unica-3d18c",apiKey:"AIzaSyA4SxhPobYVbiNpM6To9xXFmfs8Pz-YuPE",authDomain:"unica-3d18c.firebaseapp.com",databaseURL:"https://unica-ecommerce.europe-west1.firebasedatabase.app",messagingSenderId:"29827336752",appId:"1:29827336752:web:7fc72b927c53480cecbbf5",measurementId:"G-61K1R5KXG2",storageBucket:"unica-3d18c.appspot.com"}),l=(0,s.N8)(o),n=(0,i.v0)(o);n.useDeviceLanguage();let d=async(e,a,t)=>{let r=await (0,i.Xb)(n,e,a);return await v(t,r),r},c=async(e,a)=>(0,i.e5)(n,e,a),u=async()=>await (0,i.rh)(n,new i._O),p=async()=>await (0,i.rh)(n,new i.O4("microsoft.com")),m=async()=>await (0,i.rh)(n,new i.c4),f=async()=>await (0,i.w7)(n),h=async()=>await (0,i.rh)(n,new i.hJ),x=async(e,a,t,r)=>{await (0,i.oo)(n,e,{url:"http://localhost:3000/signin-mail-link"+(t?"?username="+t:"")+(r?"&userId="+r:"")+(a?"&target="+a:""),handleCodeInApp:!0}),window.localStorage.setItem("emailForSignIn",e)},g=async()=>{if((0,i.JB)(n,window.location.href)){let e=window.localStorage.getItem("emailForSignIn");if(!e)return!1;let a=await (0,i.P6)(n,e??"",window.location.href);return window.localStorage.removeItem("emailForSignIn"),a}return!1},b=async e=>await (0,i.LS)(n,e),v=async(e,a)=>{(a||n.currentUser)&&(await (0,i.ck)(a||n.currentUser,{displayName:e}),n.currentUser&&(await n.currentUser.reload(),await fetch("/api/login",{headers:{Authorization:`Bearer ${await n.currentUser.getIdToken()}`}})))},y=async(e,a)=>(0,s.t8)((0,s.iH)(l,e),a),w=async(e,a)=>(0,s.VF)((0,s.iH)(l,e),a),j=async e=>(0,s.U2)((0,s.iH)(l,e)),N=async e=>(0,s.Od)((0,s.iH)(l,e)),I=async(e,a)=>{try{return(await w("",{cart:{[e]:a}})).key}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},k=async(e,a)=>{try{return(await w("",{favorites:{[e]:a}})).key}catch(e){return Error("Impossibile salvare sul database il prodotto nei preferiti: "+e)}},C=async(e,a,t)=>{try{return y(e+"/cart/"+a,t)}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},P=async(e,a,t)=>{try{return y(e+"/favorites/"+a,t)}catch(e){return Error("Impossibile salvare sul database il prodotto preferito: "+e)}},S=async(e,a,t)=>{try{return y(e+"/cart/"+a+"/quantity",t)}catch(e){return Error("Impossibile salvare sul database il carrello: "+e)}},z=async(e,a)=>{try{return N(e+"/cart/"+a)}catch(e){return Error("Impossibile eliminare i dati sul database: "+e)}},E=async(e,a)=>{try{return N(e+"/favorites/"+a)}catch(e){return Error("Impossibile eliminare il prodotto preferito sul database: "+e)}},D=async e=>{try{let a=await j(e+"/cart");if(!a.exists())throw Error("Non esiste");let t=[];return a.forEach(e=>{t.push(e.val())}),t}catch(e){return Error("Impossibile recuperare dati dal database il carrello: "+e)}},_=async e=>{try{let a=await j(e+"/favorites");if(!a.exists())throw Error("Non esiste");let t=[];return a.forEach(e=>{t.push({vId:parseInt(e.key),pId:e.val()})}),t}catch(e){return Error("Impossibile recuperare dati dal database il carrello: "+e)}},T=async(e,a)=>{a||(a=n.currentUser?.uid);let t=await j(e);t.exists()&&(await y(a,t.val()),await N(e))},A=async e=>e?await N(e):null,U=async(e,a)=>{try{await N(e+"/info/addressIds/"+a)}catch(e){console.log(e)}}},68442:(e,a,t)=>{"use strict";t.d(a,{OT:()=>o,Wu:()=>l,d8:()=>n,ej:()=>d,kT:()=>s,u8:()=>i}),t(15424);var r=t(46242),s=(0,r.$)("eef48ae50c6ee2b51956373709bfc8e1fd71f027");(0,r.$)("4f9de1cccf1905ec51e323f44e966a1a8cdc9d73"),(0,r.$)("54a905bb6407b715be07099c6933de0b35d3080d"),(0,r.$)("125cfabe0701eaebf26c0b27986d24d059ab1cae"),(0,r.$)("1bc319d19bc2826f96db868b847c73364ec2c822");var i=(0,r.$)("26b55164fb32dc0b575df0ce30f23b51e65c5d85"),o=(0,r.$)("4cb8e9a8e005047a468328ab69d2617b27402f7e");(0,r.$)("4e5e95d168e33efb08bb5e9f5d639b315af93cae");var l=(0,r.$)("8d0d025b29591fb0a84b2bba68ce52be209f8c77");(0,r.$)("a95f75fa805b78030491b3418b5df39c45a932bc"),(0,r.$)("c9b0a83fff0eb181204dd715b93039c9e68f9433");var n=(0,r.$)("64351141cae5934a52ac85ba1b37b39377aab9d6"),d=(0,r.$)("4d72c7d3457ea873af6b38a6438ed28a853c3c31")},56177:(e,a,t)=>{"use strict";t.d(a,{d:()=>L,Login:()=>R,a:()=>$,RetrivePassword:()=>K,Signup:()=>V});var r=t(10326),s=t(17577),i=t(74723),o=t(74064),l=t(46226),n=t(90434),d=t(35047),c=t(27256),u=t(91664),p=t(65188),m=t(44794),f=t(78062),h=t(12731),x=t(86196),g=t(68442),b=t(77506),v=t(66307),y=t(65887),w=t(51223);let j=y.fC;y.xz;let N=y.h_,I=s.forwardRef(({className:e,...a},t)=>r.jsx(y.aV,{className:(0,w.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:t}));I.displayName=y.aV.displayName;let k=s.forwardRef(({className:e,...a},t)=>(0,r.jsxs)(N,{children:[r.jsx(I,{}),r.jsx(y.VY,{ref:t,className:(0,w.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));k.displayName=y.VY.displayName;let C=({className:e,...a})=>r.jsx("div",{className:(0,w.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});C.displayName="AlertDialogHeader";let P=({className:e,...a})=>r.jsx("div",{className:(0,w.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});P.displayName="AlertDialogFooter";let S=s.forwardRef(({className:e,...a},t)=>r.jsx(y.Dx,{ref:t,className:(0,w.cn)("text-lg font-semibold",e),...a}));S.displayName=y.Dx.displayName;let z=s.forwardRef(({className:e,...a},t)=>r.jsx(y.dk,{ref:t,className:(0,w.cn)("text-sm text-muted-foreground",e),...a}));z.displayName=y.dk.displayName;let E=s.forwardRef(({className:e,...a},t)=>r.jsx(y.aU,{ref:t,className:(0,w.cn)((0,u.d)(),e),...a}));E.displayName=y.aU.displayName,s.forwardRef(({className:e,...a},t)=>r.jsx(y.$j,{ref:t,className:(0,w.cn)((0,u.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a})).displayName=y.$j.displayName;var D=t(3282);let _=[{provider:"google",name:"Google"},{provider:"meta",name:"Meta",padding:5},{provider:"microsoft",name:"Microsoft",padding:5},{provider:"twitter",iconName:"x",padding:4}],T=c.z.object({email:c.z.string().email({message:"Indirizzo email non valido"}),loginType:c.z.enum(["email-link","email-password"]),password:c.z.union([c.z.string().min(6,{message:"La password deve essere di almeno 6 caratteri"}),c.z.undefined()])}).superRefine((e,a)=>{"email-password"!==e.loginType||e.password?"email-link"===e.loginType&&e.password&&a.addIssue({code:c.z.ZodIssueCode.custom,message:"La password non deve essere fornita per il login con link",path:["password"]}):a.addIssue({code:c.z.ZodIssueCode.custom,message:"La password \xe8 obbligatoria per il login con email e password",path:["password"]})}),A=c.z.object({firstName:c.z.string().min(2,{message:"Il nome deve essere di almeno 2 caratteri"}).max(30,{message:"Il nome \xe8 troppo lungo"}),lastName:c.z.string().min(2,{message:"Il cognome deve essere di almeno 2 caratteri"}).max(30,{message:"Il cognome \xe8 troppo lungo"}),email:c.z.string().email({message:"Indirizzo email non valido"}).max(60,{message:"L'indirizzo email \xe8 troppo lungo"}),registrationType:c.z.enum(["email-link","email-password"]),password:c.z.union([c.z.string().min(6,{message:"La password deve essere di almeno 6 caratteri"}).max(40,{message:"La password \xe8 troppo lunga"}).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).*$/,{message:"La password deve contenere almeno una lettera minuscola, una maiuscola e un numero"}),c.z.undefined()])}).superRefine((e,a)=>{"email-password"===e.registrationType?e.password||a.addIssue({code:c.z.ZodIssueCode.custom,message:"La password \xe8 obbligatoria per la registrazione con email e password",path:["password"]}):"email-link"===e.registrationType&&e.password&&a.addIssue({code:c.z.ZodIssueCode.custom,message:"La password non deve essere fornita per la registrazione con link",path:["password"]})}),U=c.z.object({email:c.z.string().email({message:"Indirizzo email non valido"}).max(60,{message:"L'indirizzo email \xe8 troppo lungo"})}),$=async(e,a,t,r,s,i="/dashboard")=>{try{let t;if("email"===e)t=await (0,h.ko)(a.email,a.password);else if("email link"===e){if(!(t=await (0,h.kZ)()))throw Error("Impossibile accedere con il link via email")}else"google"===e?t=await (0,h.Cb)():"meta"===e?t=await (0,h.eu)():"microsoft"===e?t=await (0,h.dN)():"twitter"===e&&(t=await (0,h.DA)());if(!t)throw Error("Credenziali non valide");let o=await t.user.getIdToken();return await fetch("/api/login",{headers:{Authorization:`Bearer ${o}`}}),s&&await s(t.user.uid),i&&r.push(i),r.refresh(),!0}catch(a){let e={"invalid-credential":"Le credenziali non sono valide","email-already-in-use":"L'indirizzo email \xe8 gi\xe0 in uso","wrong-password":"La password inserita \xe8 errata","user-not-found":"Utente non trovato","user-disabled":"L'utente \xe8 disabilitato","too-many-requests":"Troppi tentativi di accesso, riprova pi\xf9 tardi","network-request-failed":"Errore di rete, controlla la tua connessione","operation-not-allowed":"Operazione non consentita","requires-recent-login":"L'operazione richiede un nuovo accesso","account-exists-with-different-credential":"L'account esiste gi\xe0 con una credenziale diversa","popup-closed-by-user":"La finestra popup \xe8 stata chiusa dall'utente","credential-already-in-use":"Le credenziali sono gi\xe0 in uso da un altro account","invalid-email":"L'indirizzo email non \xe8 valido","missing-email":"Manca l'indirizzo email","weak-password":"La password inserita \xe8 troppo debole","user-token-expired":"Il token dell'utente \xe8 scaduto","invalid-verification-code":"Il codice di verifica non \xe8 valido","invalid-verification-id":"L'ID di verifica non \xe8 valido","missing-verification-code":"Manca il codice di verifica",timeout:"La richiesta ha superato il tempo limite","popup-blocked":"Il browser ha bloccato il popup per l'autenticazione. Per risolvere, permetti al sito di aprire popup"};t(Object.keys(e).includes(a.message.slice(22,-2))?e[a.message.slice(22,-2)]:a.message)}},R=()=>{let{control:e,handleSubmit:a,formState:{errors:t,isSubmitting:l},setError:c,watch:v}=(0,i.cI)({resolver:(0,o.F)(T),mode:"onBlur",defaultValues:{loginType:"email-link"}}),y=v("loginType"),w=(0,d.useRouter)(),[j,N]=(0,s.useContext)(x.St),[I,k]=(0,s.useState)(null),C=async(e,a)=>{a.preventDefault();try{await (0,h.yn)(j.id),await (0,g.kT)("cookieID"),"email-link"===y?await (0,h.Ig)(e.email,j.id):await $("email",{email:e.email,password:e.password},e=>c("root",{type:"manual",message:e}),w)}catch(e){c("root",{type:"manual",message:e.message})}},P=async(e,a)=>{e.preventDefault(),k(a);try{await (0,h.yn)(j.id),await (0,g.kT)("cookieID"),await $(a,{},e=>c("root",{type:"manual",message:e}),w),k(null)}catch(e){c("root",{type:"manual",message:e.message}),k(null)}},S=(e,a)=>{e.preventDefault(),w.replace(a)};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.map((e,a)=>r.jsx(F,{method:e.provider,name:e.name,iconName:e.iconName??e.provider,handleSubmit:a=>P(a,e.provider),padding:e.padding,disabled:l||null!==I,isLoading:I===e.provider},a))}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.Separator,{className:"my-[30px]"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"uppercase px-2 bg-background text-muted-foreground text-center text-sm",children:"o continua con"})})]}),(0,r.jsxs)("form",{onSubmit:a(C),className:"grid gap-4",children:[r.jsx("div",{className:"grid gap-4 mt-2",children:r.jsx(i.Qr,{name:"loginType",control:e,render:({field:e})=>r.jsx("div",{className:"grid gap-4",children:(0,r.jsxs)(D.E,{onValueChange:e.onChange,defaultValue:"email-link",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(D.m,{id:"email-link",value:"email-link",className:"mt-1"}),(0,r.jsxs)("div",{children:[r.jsx(m._,{htmlFor:"email-link",children:"Accedi con link via mail"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Riceverai un link sicuro via email per accedere direttamente."})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(D.m,{id:"email-password",value:"email-password",className:"mt-1"}),(0,r.jsxs)("div",{children:[r.jsx(m._,{htmlFor:"email-password",children:"Accedi con mail e password"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Effettua l'accesso tramite la tua email e la password sicura."})]})]})]})})})}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"email",children:"Email"}),r.jsx(i.Qr,{name:"email",control:e,render:({field:e})=>r.jsx(p.I,{...e,id:"email",type:"email",placeholder:"esempio@gmail.com",className:t.email?"border-red-500":""})}),t.email&&r.jsx("p",{className:"text-red-500 text-xs",children:t.email.message})]}),"email-password"===y&&(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"password",children:"Password"}),r.jsx(i.Qr,{name:"password",control:e,render:({field:e})=>r.jsx(p.I,{...e,id:"password",type:"password",placeholder:"••••••••••••••",className:t.password?"border-red-500":""})}),t.password&&r.jsx("p",{className:"text-red-500 text-xs",children:t.password.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u.z,{type:"submit",className:"w-full",disabled:l||null!==I,children:l?r.jsx(b.Z,{className:"animate-spin"}):"email-link"===y?"Invia link di accesso":"Accedi"}),t.root&&r.jsx("p",{className:"text-red-500 text-medium",children:t.root.message})]}),(0,r.jsxs)("div",{className:"text-center text-sm",children:["Non hai ancora un account?"," ",r.jsx(n.default,{href:"/registrazione",onClick:e=>S(e,"/registrazione"),className:"underline",children:"Registrati"})]})]})]})},V=({targetPageForEmailLink:e="dashboard"})=>{let{control:a,handleSubmit:t,formState:{errors:l,isSubmitting:c},setError:v,watch:y}=(0,i.cI)({resolver:(0,o.F)(A),mode:"onBlur",defaultValues:{registrationType:"email-link"}}),w=y("registrationType"),j=(0,d.useRouter)(),[N,I]=(0,s.useContext)(x.St),[k,C]=(0,s.useState)(null),[P,S]=(0,s.useState)(!1),z=async(a,t)=>{t.preventDefault();try{if("email-link"===w){await (0,h.Ig)(a.email,e,`${a.firstName.trim()} ${a.lastName.trim()}`,"noid"!==N.id?N.id:void 0),S(!0);return}let t=await (0,h.Sz)(a.email,a.password,`${a.firstName.trim()} ${a.lastName.trim()}`);await (0,h.hN)(N.id,t.user.uid),await (0,g.kT)("cookieID"),await $("email",{email:a.email,password:a.password},e=>v("root",{type:"manual",message:e}),j)}catch(e){v("root",{type:"manual",message:e.message})}},E=async(a,t)=>{a.preventDefault(),C(t);try{await $(t,{},e=>v("root",{type:"manual",message:e}),j,async e=>{await (0,h.hN)(N.id,e),await (0,g.kT)("cookieID")},e?"/"+e:"/dashboard"),C(null)}catch(e){v("root",{type:"manual",message:e.message}),C(null)}},T=(e,a)=>{e.preventDefault(),j.replace(a)};return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.map((e,a)=>r.jsx(F,{method:e.provider,name:e.name,iconName:e.iconName??e.provider,handleSubmit:E,padding:e.padding,disabled:c||!N.id||null!==k,isLoading:k===e.provider},a))}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(f.Separator,{className:"my-[30px]"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"uppercase px-2 bg-background text-muted-foreground text-center text-sm",children:"o continua con"})})]}),(0,r.jsxs)("form",{onSubmit:t(z),className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-start",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"firstName",children:"Nome"}),r.jsx(i.Qr,{name:"firstName",control:a,render:({field:e})=>r.jsx(p.I,{...e,id:"firstName",placeholder:"Giulia",className:l.firstName?"border-red-500":""})}),l.firstName&&r.jsx("p",{className:"text-red-500 text-xs",children:l.firstName.message})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"lastName",children:"Cognome"}),r.jsx(i.Qr,{name:"lastName",control:a,render:({field:e})=>r.jsx(p.I,{...e,id:"lastName",placeholder:"Antonucci",className:l.lastName?"border-red-500":""})}),l.lastName&&r.jsx("p",{className:"text-red-500 text-xs",children:l.lastName.message})]})]}),r.jsx("div",{className:"grid gap-4 mt-2",children:r.jsx(i.Qr,{name:"registrationType",control:a,render:({field:e})=>r.jsx("div",{className:"grid gap-4",children:(0,r.jsxs)(D.E,{onValueChange:e.onChange,defaultValue:"email-link",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(D.m,{id:"email-link",value:"email-link",className:"mt-1"}),(0,r.jsxs)("div",{children:[r.jsx(m._,{htmlFor:"email-link",children:"Registrati con link via mail"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Riceverai un link sicuro via email per completare la registrazione. Non sar\xe0 necessario ricordare una password."})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(D.m,{id:"email-password",value:"email-password",className:"mt-1"}),(0,r.jsxs)("div",{children:[r.jsx(m._,{htmlFor:"email-password",children:"Registrati con mail e password"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crea un account con la tua email e una password sicura. Potrai accedere quando vuoi usando queste credenziali."})]})]})]})})})}),(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"email",children:"Email"}),r.jsx(i.Qr,{name:"email",control:a,render:({field:e})=>r.jsx(p.I,{...e,id:"email",type:"email",placeholder:"esempio@gmail.com",className:l.email?"border-red-500":""})}),l.email&&r.jsx("p",{className:"text-red-500 text-xs",children:l.email.message})]}),"email-password"===w&&(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"password",children:"Password"}),r.jsx(i.Qr,{name:"password",control:a,render:({field:e})=>r.jsx(p.I,{...e,id:"password",type:"password",placeholder:"••••••••••••••",className:l.password?"border-red-500":""})}),l.password&&r.jsx("p",{className:"text-red-500 text-xs",children:l.password.message})]}),(0,r.jsxs)("div",{children:[r.jsx(u.z,{type:"submit",className:"w-full",disabled:c||!N.id||null!==k,children:c?r.jsx(b.Z,{className:"animate-spin"}):"email-link"===w?"Invia link di registrazione":"Crea un Account"}),l.root&&r.jsx("p",{className:"text-red-500 text-medium ",children:l.root.message})]}),(0,r.jsxs)("div",{className:"text-center text-sm",children:["Hai gi\xe0 un account?"," ",r.jsx(n.default,{href:"/login",onClick:e=>T(e,"/login"),className:"underline",children:"Accedi"})]})]}),P&&r.jsx(O,{})]})},K=()=>{let{control:e,handleSubmit:a,formState:{errors:t,isSubmitting:l},setError:c}=(0,i.cI)({resolver:(0,o.F)(U),mode:"onBlur"}),f=(0,d.useRouter)(),[x,g]=(0,s.useState)(!1),v=async e=>{c("root",{type:"manual",message:""});try{await (0,h.c0)(e.email),g(!0)}catch(e){c("root",{type:"manual",message:e.message})}},y=(e,a)=>{e.preventDefault(),f.replace(a)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("form",{onSubmit:a(v),className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[r.jsx(m._,{htmlFor:"email",children:"Email"}),r.jsx(i.Qr,{name:"email",control:e,render:({field:e})=>r.jsx(p.I,{...e,id:"email",type:"email",placeholder:"esempio@gmail.com",className:t.email?"border-red-500":""})}),t.email&&r.jsx("p",{className:"text-red-500 text-xs",children:t.email.message})]}),t.root&&r.jsx("p",{className:"text-red-500 text-sm",children:t.root.message}),r.jsx(u.z,{type:"submit",className:"w-full",disabled:l,children:l?r.jsx(b.Z,{className:"animate-spin"}):"Invia email"}),(0,r.jsxs)("div",{className:"text-center text-sm",children:["Torna al"," ",r.jsx(n.default,{href:"/login",onClick:e=>y(e,"/login"),className:"underline",children:"Login"})]})]}),x&&r.jsx(j,{defaultOpen:!0,children:(0,r.jsxs)(k,{children:[(0,r.jsxs)(C,{children:[r.jsx(S,{children:"Mail inviata"}),r.jsx(z,{children:"Ti abbiamo mandato l'email con cui puoi reimpostare la password del tuo account."})]}),r.jsx(P,{children:r.jsx(E,{children:r.jsx(n.default,{href:"/login",onClick:e=>y(e,"/login"),children:"Torna al Login"})})})]})})]})},O=()=>{let e=(0,d.useRouter)();return r.jsx(j,{open:!0,children:(0,r.jsxs)(k,{className:"flex flex-col justify-center gap-4 text-center",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(v.Z,{color:"green",className:"size-32"})}),(0,r.jsxs)("div",{children:[r.jsx(S,{className:"upper",children:r.jsx("h1",{children:"Email Inviata!"})}),r.jsx(z,{children:"Hai appena creato il tuo account: non \xe8 stato difficile, vero? Ora vai sulla tua mail e premi il link all'interno per effettuare il primo accesso."})]}),r.jsx(P,{className:"mx-auto",children:r.jsx(E,{className:"mt-2",children:r.jsx(u.z,{onClick:()=>e.push("/"),children:"Torna alla home"})})})]})})},L=async e=>{await (0,h.kS)(),await fetch("/api/logout"),await (0,g.kT)("cookieID"),e.refresh(),e.push("/")},F=({method:e,name:a,iconName:t,handleSubmit:s,padding:i,disabled:o,isLoading:n})=>(0,r.jsxs)(u.z,{variant:"outline",className:"w-full relative",onClick:a=>s(a,e),disabled:o,children:[r.jsx(l.default,{src:"/icons/"+t+".svg",width:32,height:32,alt:"Accedi con "+(a?"":t),style:{padding:i+"px"}}),a&&r.jsx("span",{children:a}),n&&r.jsx(b.Z,{className:"animate-spin ml-3"})]})},86196:(e,a,t)=>{"use strict";t.d(a,{A9:()=>d,CartProvider:()=>c,ContextListeners:()=>h,FavoritesProvider:()=>p,St:()=>m,ThemeProvider:()=>n,UserProvider:()=>f,Yi:()=>u});var r=t(10326),s=t(17577),i=t(14831),o=t(68442),l=t(12731);function n({children:e,...a}){return r.jsx(i.f,{...a,children:e})}let d=(0,s.createContext)([null,null]);function c({children:e}){let[a,t]=(0,s.useState)(null);return r.jsx(d.Provider,{value:[a,t],children:e})}let u=(0,s.createContext)([[],()=>{}]);function p({children:e}){let[a,t]=(0,s.useState)([]);return r.jsx(u.Provider,{value:[a,t],children:e})}let m=(0,s.createContext)([{cart:[],cartQuantity:-1},null]);function f({children:e}){let[a,t]=(0,s.useState)({id:""});return r.jsx(m.Provider,{value:[a,t],children:e})}let h=({loggedUserId:e})=>{let[a,t]=(0,s.useContext)(m),[i,n]=(0,s.useContext)(d),[c,p]=(0,s.useContext)(u);return(0,s.useEffect)(()=>{(0,o.ej)("cookieID").then(async a=>{console.log("cookie",a,"user",e),e&&(a=e),a?(await (async()=>{let e=await (0,l._p)(a);if(e instanceof Error)return n([]),console.log("Error cartLight:",e.message);let t=await (0,o.u8)(e);if(console.log(t),t instanceof Error||!t)return n([]),console.log("Error cart:",t.message);n(t)})(),await (async()=>{let e=await (0,l.tC)(a);if(e instanceof Error)return p([]),console.log("Error favoritesLight:",e.message);let t=await (0,o.Wu)(e);if(console.log(t),t instanceof Error||!t)return p([]),console.log("Error favorites:",t.message);p(t)})()):(n([]),p([])),t({id:a??"noid"}),console.log("started id:",a,a??"noid")})},[e]),(0,s.useEffect)(()=>{"noid"!==a.id&&a.id&&!e&&(0,o.d8)("cookieID",a.id,{maxAge:31536e3})},[a.id]),r.jsx(r.Fragment,{})}},74346:(e,a,t)=>{"use strict";t.d(a,{default:()=>l});var r=t(10326);t(17577);var s=t(19338),i=t(51223);let o={initial:{"--x":"100%",scale:.8},animate:{"--x":"-100%",scale:1},whileTap:{scale:.95},transition:{repeat:1/0,repeatType:"loop",repeatDelay:1,type:"spring",stiffness:20,damping:15,mass:2,scale:{type:"spring",stiffness:200,damping:5,mass:.5}}},l=({children:e,className:a,...t})=>(0,r.jsxs)(s.E.button,{...o,...t,className:(0,i.cn)("relative rounded-lg font-medium backdrop-blur-xl transition-shadow duration-300 ease-in-out hover:shadow dark:bg-[radial-gradient(circle_at_50%_0%,hsl(var(--primary)/10%)_0%,transparent_60%)] dark:hover:shadow-[0_0_20px_hsl(var(--primary)/10%)]",a),children:[r.jsx("span",{className:"relative block size-full text-sm uppercase tracking-wide text-[rgb(0,0,0,65%)] dark:font-light dark:text-[rgb(255,255,255,90%)]",style:{maskImage:"linear-gradient(-75deg,hsl(var(--primary)) calc(var(--x) + 20%),transparent calc(var(--x) + 30%),hsl(var(--primary)) calc(var(--x) + 100%))"},children:e}),r.jsx("span",{style:{mask:"linear-gradient(rgb(0,0,0), rgb(0,0,0)) content-box,linear-gradient(rgb(0,0,0), rgb(0,0,0))",WebkitMaskComposite:"exclude",maskComposite:"exclude"},className:"absolute inset-0 z-10 block rounded-[inherit] bg-[linear-gradient(-75deg,hsl(var(--primary)/10%)_calc(var(--x)+20%),hsl(var(--primary)/50%)_calc(var(--x)+25%),hsl(var(--primary)/10%)_calc(var(--x)+100%))] p-px"})]})},91664:(e,a,t)=>{"use strict";t.d(a,{d:()=>d,z:()=>c});var r=t(10326),s=t(17577),i=t(99469),o=t(28671),l=t(74346),n=t(51223);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",buy:"bg-buy text-slate-50 hover:bg-black hover:border hover:border-white",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:a,size:t,asChild:s=!1,children:o,...c},u)=>{let p=s?i.g7:"button";return"buy"===a?r.jsx(l.default,{className:e,...c,children:r.jsx("span",{className:(0,n.cn)(d({variant:a,size:t}),"w-full"),ref:u,children:o})}):r.jsx(p,{className:(0,n.cn)(d({variant:a,size:t,className:e})),ref:u,...c,children:o})});c.displayName="Button"},65188:(e,a,t)=>{"use strict";t.d(a,{I:()=>o});var r=t(10326),s=t(17577),i=t(51223);let o=s.forwardRef(({className:e,type:a,...t},s)=>r.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-slate-950 placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:file:text-slate-50 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",e),ref:s,...t}));o.displayName="Input"},44794:(e,a,t)=>{"use strict";t.d(a,{_:()=>d});var r=t(10326),s=t(17577),i=t(29152),o=t(28671),l=t(51223);let n=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...a},t)=>r.jsx(i.f,{ref:t,className:(0,l.cn)(n(),e),...a}));d.displayName=i.f.displayName},32333:(e,a,t)=>{"use strict";t.d(a,{NavBarStyled:()=>k});var r=t(10326),s=t(17577),i=t(90434),o=t(87267),l=t(28671),n=t(941),d=t(51223);let c=s.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(o.fC,{ref:s,className:(0,d.cn)("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...t,children:[a,r.jsx(g,{})]}));c.displayName=o.fC.displayName;let u=s.forwardRef(({className:e,...a},t)=>r.jsx(o.aV,{ref:t,className:(0,d.cn)("group flex flex-1 list-none items-center justify-center space-x-1",e),...a}));u.displayName=o.aV.displayName;let p=o.ck,m=(0,l.j)("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),f=s.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(o.xz,{ref:s,className:(0,d.cn)(m(),"group",e),...t,children:[a," ",r.jsx(n.Z,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));f.displayName=o.xz.displayName;let h=s.forwardRef(({className:e,...a},t)=>r.jsx(o.VY,{ref:t,className:(0,d.cn)("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",e),...a}));h.displayName=o.VY.displayName;let x=o.rU,g=s.forwardRef(({className:e,...a},t)=>r.jsx("div",{className:(0,d.cn)("absolute left-0 top-full flex justify-center"),children:r.jsx(o.l_,{className:(0,d.cn)("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:t,...a})}));g.displayName=o.l_.displayName,s.forwardRef(({className:e,...a},t)=>r.jsx(o.z$,{ref:t,className:(0,d.cn)("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",e),...a,children:r.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})})).displayName=o.z$.displayName;var b=t(86196),v=t(77506),y=t(67427),w=t(91664),j=t(46226),N=t(35047),I=t(56177);function k({categories:e,account:a}){let[t,o]=(0,s.useContext)(b.A9),l=(0,N.useRouter)();return r.jsx(c,{className:"",children:(0,r.jsxs)(u,{children:[(0,r.jsxs)(p,{children:[r.jsx(f,{children:"Gioielli"}),r.jsx(h,{children:r.jsx("ul",{className:"grid gap-3 p-6 md:w-[400px] lg:w-[500px] lg:grid-cols-[.75fr_1fr]",children:e.map(e=>r.jsx(C,{href:"/"+e.sku,title:e.name,children:e.description},e.sku))})})]}),r.jsx(p,{children:r.jsx(i.default,{href:"/docs",legacyBehavior:!0,passHref:!0,children:r.jsx(x,{className:m(),children:"Chi siamo"})})}),r.jsx(p,{children:r.jsx(i.default,{href:"/carrello",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)(x,{className:m(),children:["Cart: ",null!==t?t.reduce((e,a)=>a.quantity+e,0):r.jsx(v.Z,{className:"animate-spin"})]})})}),r.jsx(p,{children:r.jsx(i.default,{href:"/preferiti",legacyBehavior:!0,passHref:!0,children:r.jsx(x,{className:m(),children:r.jsx(y.Z,{fill:"red",strokeWidth:0})})})}),r.jsx(p,{children:a?r.jsx(i.default,{href:"/dashboard",legacyBehavior:!0,passHref:!0,children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(j.default,{src:a.picture??"",width:32,height:32,alt:"Immagine profilo",className:"rounded-full"}),r.jsx(i.default,{href:"/dashboard",children:a.name??a.email}),r.jsx(w.z,{variant:"destructive",onClick:async()=>await (0,I.d)(l),children:"Esci"})]})}):(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(i.default,{href:"/login",legacyBehavior:!0,passHref:!0,children:r.jsx(w.z,{children:"Accedi"})}),r.jsx(i.default,{href:"/registrazione",legacyBehavior:!0,passHref:!0,children:r.jsx(w.z,{variant:"outline",children:"Registrati"})})]})})]})})}let C=({className:e,title:a,href:t,children:o})=>{let l=(0,s.useRef)(null);return r.jsx("li",{children:r.jsx(x,{asChild:!0,children:(0,r.jsxs)(i.default,{ref:l,className:(0,d.cn)("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",e),href:t,children:[r.jsx("div",{className:"text-sm font-medium leading-none",children:a}),r.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:o})]})})})}},3282:(e,a,t)=>{"use strict";t.d(a,{E:()=>n,m:()=>d});var r=t(10326),s=t(17577),i=t(57323),o=t(53982),l=t(51223);let n=s.forwardRef(({className:e,...a},t)=>r.jsx(i.fC,{className:(0,l.cn)("grid gap-2",e),...a,ref:t}));n.displayName=i.fC.displayName;let d=s.forwardRef(({className:e,...a},t)=>r.jsx(i.ck,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:r.jsx(i.z$,{className:"flex items-center justify-center",children:r.jsx(o.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})}));d.displayName=i.ck.displayName},78062:(e,a,t)=>{"use strict";t.d(a,{Separator:()=>l});var r=t(10326),s=t(17577),i=t(90220),o=t(51223);let l=s.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...s},l)=>r.jsx(i.f,{ref:l,decorative:t,orientation:a,className:(0,o.cn)("shrink-0 bg-slate-200 dark:bg-slate-800","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...s}));l.displayName=i.f.displayName},77525:(e,a,t)=>{"use strict";t.d(a,{FN:()=>m,Mi:()=>x,VW:()=>c,_i:()=>u,gD:()=>f,lj:()=>g,sA:()=>h});var r=t(10326),s=t(17577),i=t(42414),o=t(28671),l=t(94019),n=t(51223),d=t(91664);let c=i.zt,u=s.forwardRef(({className:e,...a},t)=>r.jsx(i.l_,{ref:t,className:(0,n.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...a}));u.displayName=i.l_.displayName;let p=(0,o.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-slate-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-slate-800",{variants:{variant:{default:"border bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"destructive group border-red-500 bg-red-500 text-slate-50 dark:border-red-900 dark:bg-red-900 dark:text-slate-50"}},defaultVariants:{variant:"default"}}),m=s.forwardRef(({className:e,variant:a,...t},s)=>r.jsx(i.fC,{ref:s,className:(0,n.cn)(p({variant:a}),e),...t}));m.displayName=i.fC.displayName;let f=s.forwardRef(({className:e,children:a,...t},s)=>r.jsx(i.aU,{ref:s,...t,asChild:!0,children:r.jsx(d.z,{className:e,children:a})}));f.displayName=i.aU.displayName;let h=s.forwardRef(({className:e,...a},t)=>r.jsx(i.x8,{ref:t,className:(0,n.cn)("absolute right-2 top-2 rounded-md p-1 text-slate-950/50 opacity-0 transition-opacity hover:text-slate-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-slate-50/50 dark:hover:text-slate-50",e),"toast-close":"",...a,children:r.jsx(l.Z,{className:"h-4 w-4"})}));h.displayName=i.x8.displayName;let x=s.forwardRef(({className:e,...a},t)=>r.jsx(i.Dx,{ref:t,className:(0,n.cn)("text-sm font-semibold",e),...a}));x.displayName=i.Dx.displayName;let g=s.forwardRef(({className:e,...a},t)=>r.jsx(i.dk,{ref:t,className:(0,n.cn)("text-sm opacity-90",e),...a}));g.displayName=i.dk.displayName},97477:(e,a,t)=>{"use strict";t.d(a,{Toaster:()=>o});var r=t(10326),s=t(77525),i=t(56309);function o(){let{toasts:e}=(0,i.pm)();return(0,r.jsxs)(s.VW,{children:[e.map(function({id:e,title:a,description:t,action:i,image:o,...l}){return(0,r.jsxs)(s.FN,{...l,children:[o,(0,r.jsxs)("div",{className:"grid gap-1",children:[a&&r.jsx(s.Mi,{children:a}),t&&r.jsx(s.lj,{className:"mb-1",children:t}),i]}),r.jsx(s.sA,{})]},e)}),r.jsx(s._i,{})]})}},56309:(e,a,t)=>{"use strict";t.d(a,{pm:()=>p});var r=t(17577);let s=0,i=new Map,o=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,3)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},n=[],d={toasts:[]};function c(e){d=l(d,e),n.forEach(e=>{e(d)})}function u({...e}){let a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function p(){let[e,a]=r.useState(d);return r.useEffect(()=>(n.push(a),()=>{let e=n.indexOf(a);e>-1&&n.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},51223:(e,a,t)=>{"use strict";t.d(a,{cn:()=>i,f:()=>o});var r=t(41135),s=t(31009);function i(...e){return(0,s.m6)((0,r.W)(e))}let o=e=>new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR"}).format(e)},88894:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>c,$$ACTION_1:()=>m,$$ACTION_2:()=>h,$$ACTION_3:()=>v,$$ACTION_4:()=>w,checkAndAddAddress:()=>b,getAddressDetails:()=>u,getAddressSuggestions:()=>p,getAddressesFromAddressesLight:()=>y,getAuthToken:()=>d,getSuggestedAddress:()=>f});var r=t(24330);t(60166);var s=t(65844),i=t(67292),o=t(71615),l=t(83795),n=t(40618);let d=(0,r.j)("f7769912da9099b470d19cbc910dec4ae9d825ac",c);async function c(){return await (0,i.lz)((0,o.cookies)(),{apiKey:s.$.apiKey,cookieName:s.c.cookieName,cookieSignatureKeys:s.c.cookieSignatureKeys,serviceAccount:s.c.serviceAccount})}async function u(e){try{let a=await fetch(`https://lookup.search.hereapi.com/v1/lookup?id=${e.id}&apiKey=${process.env.HERE_API_KEY}`);if(a.ok){let{address:t,title:r}=await a.json();return{...e,street:t.street||"",houseNumber:t.houseNumber||"",city:t.city||"",state:t.state||"",postalCode:t.postalCode||"",country:t.countryName||"",fullAddress:r}}throw Error("Risposta non valida dal server HERE")}catch(e){return console.error("Errore nel recupero dei dettagli dell'indirizzo:",e),null}}let p=(0,r.j)("bf5b0f41b0b6fa5d4d90997c58aede6b4cab2962",m);async function m(e){let a=await fetch(`https://autocomplete.search.hereapi.com/v1/autocomplete?q=${encodeURIComponent(e)}&apiKey=${process.env.HERE_API_KEY}`);return(await a.json()).items}let f=(0,r.j)("a1b4897f175837100b8091fb05fb12279a0be7a6",h);async function h(e){let a=await fetch(`https://lookup.search.hereapi.com/v1/lookup?id=${e}&apiKey=${process.env.HERE_API_KEY}`);return(await a.json()).address}let x=async e=>{let a=new URL("https://api.packlink.com/v1/locations/postalcodes/country/IT");a.searchParams.append("q",e);try{let e=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:process.env.PACKLINK_API_KEY||""}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching postal code:",e.message),{error:e.message}}},g=async(e,a,t,r,s,i)=>{let o=`${a||""} ${e}, ${t}, ${s}, ${r}, ${i}`,l=`https://geocode.search.hereapi.com/v1/geocode?q=${encodeURIComponent(o)}&apiKey=${process.env.HERE_API_KEY}`;try{let e=await fetch(l);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let a=await e.json();if(a.items&&a.items.length>0)return{isValid:!0,data:a.items[0]};return{isValid:!1,error:"Indirizzo non trovato"}}catch(e){return console.error("Errore durante la validazione dell'indirizzo:",e),{isValid:!1,error:e.message}}},b=(0,r.j)("504f9aeefbbfdff426dfa9e4d70fb30c4ea53214",v);async function v(e){let a=(await d())?.decodedToken;if(!a)throw Error("Non sei autenticato");let t=await x(e.postalCode);if(console.log("cap",t,e),!t||0===t.length)throw Error("Controlla che il CAP \xe8 corretto; se lo \xe8, ci spiace ma non consegnamo nel cap che hai inserito");if(e.city=e.city.trim().toUpperCase(),!t.map(a=>a.zipcode===e.postalCode.toString()?a.city:"").find(a=>a.toUpperCase().trim()===e.city))throw Error("Il CAP non coincide con la citt\xe0 che hai inserito");let r=await g(e.street,e.houseNumber,e.city,e.postalCode,e.province,e.country);if(console.log(r),!r.isValid||r.error||!r.data.id)throw Error("Non \xe8 stato possibile verificare che il tuo indirizzo sia esistente.");if(r.data.houseNumberFallback||r.data.address.houseNumber!==e.houseNumber)throw Error("Il numero civico sembra non esistere.");await (0,l.y$)(a.uid,r.data.id,e.other)}let y=(0,r.j)("70709a99a8b146f4ca3500d07f1fadfa1aff44f1",w);async function w(e,a){if(a&&a.length>5){let t=a.slice(5).map(a=>deleteAddress(e,a.key));await Promise.all(t),a=a.slice(0,5)}return(await Promise.all(a?.map(e=>u(e))||[])).filter(e=>null!==e)}(0,n.h)([d,u,p,f,b,y]),(0,r.j)("054d9a95db8a6b077763b7cd85e47163f242d63a",d),(0,r.j)("f2507193706cca6e68352984f33996f51aa34482",u),(0,r.j)("76e327acd14790783abc87d5604a23254bfb5cc9",p),(0,r.j)("eca301dc92566f32c5739360be3e25a8c76db3a8",f),(0,r.j)("53b624e3693ace9bb6892066e074243af6932c54",b),(0,r.j)("55aa07498a470d26fec83ec36ccda4f14b561b3e",y)},83795:(e,a,t)=>{"use strict";t.d(a,{AU:()=>u,ZK:()=>f,bH:()=>m,co:()=>p,y$:()=>h});var r=t(29362),s=t(85500),i=t(65844),o=t(28345);let l=(0,r.ZF)(i.$),n=(0,s.N8)(l);(0,o.v0)(l).useDeviceLanguage();let d=async(e,a)=>(0,s.VF)((0,s.iH)(n,e),a),c=async e=>(0,s.U2)((0,s.iH)(n,e)),u=async e=>{try{let a=[];return(await c(e+"/orders")).forEach(e=>{a.push({...e.val(),orderId:e.key})}),a}catch(e){return[]}},p=async(e,a)=>{try{let t=await c(e+"/orders/"+a);if(!t.exists)throw"Err";return{orderId:a,...t.val()}}catch(e){return null}},m=async e=>{try{let a=await c(e+"/info"),t=[];return a.child("addressIds").forEach(e=>{t.push({key:e.key,id:e.child("id").val(),details:e.child("details").exists()?e.child("details").val():void 0})}),t=t.reverse(),{...a.val(),addresses:t}}catch(e){return null}},f=async e=>{try{let a=await c(e+"/info/addressIds"),t=[];return a.forEach(e=>{t.push({key:e.key,id:e.child("id").val(),details:e.child("details").exists()?e.child("details").val():void 0})}),t=t.reverse()}catch(e){return null}},h=async(e,a,t)=>{try{await d(e+"/info/addressIds",{id:a,...t?{details:t}:{}})}catch(e){console.log(e)}}},99148:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>n,$$ACTION_1:()=>c,$$ACTION_10:()=>S,$$ACTION_11:()=>E,$$ACTION_12:()=>_,$$ACTION_2:()=>p,$$ACTION_3:()=>f,$$ACTION_4:()=>x,$$ACTION_5:()=>b,$$ACTION_6:()=>y,$$ACTION_7:()=>j,$$ACTION_8:()=>I,$$ACTION_9:()=>C,deleteCookie:()=>D,getCartFromCartLight:()=>g,getCartVisualizzationData:()=>m,getCartsFromCartsLight:()=>h,getCategories:()=>N,getCategory:()=>k,getCookie:()=>z,getFavoritesFromFavoritesLight:()=>w,getPricesFromCartsLight:()=>v,getProduct:()=>d,getProducts:()=>l,getProductsLightFromCartsLight:()=>u,setCookie:()=>P});var r=t(24330);t(60166);var s=t(71615),i=t(40618);let o=async(e,a={})=>{let t=await fetch(e,{...a,headers:{Authorization:"Bearer 682ecee3c9d1adc99c64a498878b85ca758ec1f755a4a474cb9fbc911b6eae4a0887e130072b2efc1d86da46740c00dd469541c7e1af43acfc5adf4fae56614e4a9bde89b8b5195197e355d356cea7ea30c29d6809d3e50bb94c9999f2d9331a297ec147bf83aca2ca0c856be675c8d234dd9ba77cae5cf9aa2b28868be59a85",...a.headers}});if(!t.ok)throw Error(t.statusText);return t.json()},l=(0,r.j)("5bba9f89edca6b9e633ce819204769f0de798386",n);async function n(){try{return await o("http://localhost:1337/api/products?populate[0]=Category")}catch(e){return e}}let d=(0,r.j)("dbf7a819c58165caf1ae89e661cf6444e0a68969",c);async function c(e){try{let a=await o(`http://localhost:1337/api/products?filters[SKU][$eq]=${e}&populate[0]=Category&populate[1]=Tags&populate[2]=MainImage&populate[3]=ProductDetails.Material&populate[4]=ProductDetails.Platings&populate[5]=ProductDetails.Images&populate[6]=ProductDetails.Photos&populate[7]=Viewer&populate[8]=Viewer.Model3D&populate[9]=Viewer.SelectedViewer&populate[10]=Viewer.SelectedViewer.Items3D&populate[11]=Viewer.SelectedViewer.Items3D.Model3D&populate[12]=Viewer.SelectedViewer.Items3D.RelativeProduct&populate[13]=Viewer.SelectedViewer.Items3D.MainTransform&populate[14]=Viewer.SelectedViewer.Transforms&populate[15]=Viewer.SelectedViewer.Items3D.Thumbnail&populate[16]=Description.Card&populate[17]=Description.CharityLink&populate[18]=Description.CharityCampaign&populate[19]=Description.FAQs&populate[20]=Description.TestimonialLink&populate[21]=Description.TestimonialLink.Image.formats`);if(!a.data.length)throw Error("No product found");return a.data[0]}catch(e){return e}}let u=(0,r.j)("74f21bf0d5d2b5cc24bfb3ca7b9465a0365a8b40",p);async function p(e){try{let a=await o(`http://localhost:1337/api/products?${Array.from(new Set(e.map(e=>e.productId))).map((e,a)=>"filters[id][$in]["+a+"]="+e).join("&")}&fields[0]=Name&fields[1]=SKU&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU`);if(!a.data)throw Error("No product found");return e.map(e=>{for(let t of a.data)if(t.id===e.productId)return{id:e.productId,name:t.attributes.Name??"",urlPath:(t.attributes.Category?.data.attributes.SKU??"")+"/"+(t.attributes.SKU??""),image:t.attributes.ProductDetails?.[e.variantIndex].Images?.data[0].attributes.formats?.thumbnail,variantIndex:e.variantIndex,material:t.attributes.ProductDetails?.[e.variantIndex].Material?.data.attributes,platings:t.attributes.ProductDetails?.[e.variantIndex].Platings?.data};return null}).filter(e=>null!==e)}catch(a){return console.log(`products?${Array.from(new Set(e.map(e=>e.productId))).map((e,a)=>"filters[id][$in]["+a+"]="+e.productId).join("&")}&fields[0]=Name&fields[1]=SKU&fields[2]=ShortDescription&populate[ProductDetails][fields][0]=Price&populate[ProductDetails][fields][1]=CartVisualizzation&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][fields][3]=Images&populate[ProductDetails][populate][CartVisualizzation][populate][Texture][fields][0]=formats&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU&populate[Description][on][product.charity-link][populate]=*`),a}}let m=(0,r.j)("0adf345e34b631e31c58ca5701d2eeda9aa707ff",f);async function f(e){try{let a=await o(`http://localhost:1337/api/products/${e}?fields[0]=id&populate[ProductDetails][fields][0]=CartVisualizzation&populate[ProductDetails][populate][CartVisualizzation][populate][Texture][fields][0]=formats`);if(!a.data)throw Error("No product found");return a.data.attributes.ProductDetails?.map(e=>e.CartVisualizzation)??[]}catch(e){return e}}let h=(0,r.j)("f92757555c856886736cc44746e88beea6e1aa13",x);async function x(e){try{let a=await o(`http://localhost:1337/api/products?${Array.from(new Set(e.map(e=>e.productId))).map((e,a)=>"filters[id][$in]["+a+"]="+e).join("&")}&fields[0]=Name&fields[1]=SKU&fields[2]=ShortDescription&populate[ProductDetails][fields][0]=Price&populate[ProductDetails][fields][1]=CartVisualizzation&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][fields][3]=Images&populate[ProductDetails][populate][CartVisualizzation][populate][Texture][fields][0]=formats&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU&populate[Description][on][product.charity-link][populate]=*`);if(!a.data)throw Error("No product found");return e.map(e=>{for(let t of a.data)if(t.id===e.productId)return{id:e.productId,name:t.attributes.Name??"",urlPath:(t.attributes.Category?.data.attributes.SKU??"")+"/"+(t.attributes.SKU??""),shortDescription:t.attributes.ShortDescription??"",quantity:e.quantity??0,variant:t.attributes.ProductDetails?.[e.variantIndex],variantIndex:e.variantIndex,size:t.attributes.ProductDetails?.[e.variantIndex].CartVisualizzation.Size,textureURL:t.attributes.ProductDetails?.[e.variantIndex].CartVisualizzation.Texture?.data.attributes.formats?.medium.url,charity:t.attributes.Description?.find(e=>"product.charity-link"===e.__component)};return null}).filter(e=>null!==e)}catch(a){return console.log(`products?${Array.from(new Set(e.map(e=>e.productId))).map((e,a)=>"filters[id][$in]["+a+"]="+e.productId).join("&")}&fields[0]=Name&fields[1]=SKU&fields[2]=ShortDescription&populate[ProductDetails][fields][0]=Price&populate[ProductDetails][fields][1]=CartVisualizzation&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][fields][3]=Images&populate[ProductDetails][populate][CartVisualizzation][populate][Texture][fields][0]=formats&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU&populate[Description][on][product.charity-link][populate]=*`),a}}let g=(0,r.j)("b97d553a42fa017e5c776d02862eadaba4228bce",b);async function b(e){try{let a=await o(`http://localhost:1337/api/products/${e.productId}?fields[0]=Name&fields[1]=SKU&fields[2]=ShortDescription&populate[ProductDetails][fields][0]=Price&populate[ProductDetails][fields][1]=CartVisualizzation&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][fields][4]=Images&populate[ProductDetails][populate][CartVisualizzation][populate][Texture][fields][0]=formats&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU&populate[Description][on][product.charity-link][populate]=*`);if(!a.data)throw Error("No product found");return console.log(a.data.attributes.ProductDetails?.[e.variantIndex]),{id:e.productId,name:a.data.attributes.Name??"",urlPath:(a.data.attributes.Category?.data.attributes.SKU??"")+"/"+(a.data.attributes.SKU??""),shortDescription:a.data.attributes.ShortDescription??"",quantity:e.quantity??0,variant:a.data.attributes.ProductDetails?.[e.variantIndex],variantIndex:e.variantIndex,size:a.data.attributes.ProductDetails?.[e.variantIndex].CartVisualizzation.Size,textureURL:a.data.attributes.ProductDetails?.[e.variantIndex].CartVisualizzation.Texture?.data.attributes.formats?.medium.url,charity:a.data.attributes.Description?.find(e=>"product.charity-link"===e.__component)}}catch(e){return e.message}}let v=(0,r.j)("9085bf368d2983b61939f8d9a0f62b101264322d",y);async function y(e){try{let a=await o(`http://localhost:1337/api/products?${Array.from(new Set(e.map(e=>e.productId))).map((e,a)=>"filters[id][$in]["+a+"]="+e).join("&")}&populate[ProductDetails][fields][0]=Price`);if(!a.data)throw Error("No product found");return e.map(e=>{for(let t of a.data)if(t.id===e.productId)return{quantity:e.quantity,price:t.attributes.ProductDetails?.[e.variantIndex].Price};throw Error("Variante non trovata")}).filter(e=>void 0!==e)}catch(e){return e.message}}let w=(0,r.j)("73baeeea67bbcfafdeef72ddbf87696a9c476d3d",j);async function j(e){try{let a=await o(`http://localhost:1337/api/products?${e.map((e,a)=>"filters[id][$in]["+a+"]="+e.pId).join("&")}&fields[0]=Name&fields[1]=SKU&fields[2]=ShortDescription&populate[ProductDetails][fields][0]=Price&populate[ProductDetails][populate][Material][fields][0]=Name&populate[ProductDetails][populate][Material][fields][1]=Color&populate[ProductDetails][populate][Platings][fields][1]=Color&populate[ProductDetails][fields][3]=Images&populate[ProductDetails][populate][Images][fields][0]=formats&populate[Category][fields][0]=SKU&populate[Description][on][product.charity-link][populate]=*`);if(!a.data)throw Error("No product found");return e.map(e=>{for(let t of a.data)if(t.id===e.pId)return{id:e.pId,name:t.attributes.Name??"",urlPath:(t.attributes.Category?.data.attributes.SKU??"")+"/"+(t.attributes.SKU??""),shortDescription:t.attributes.ShortDescription??"",variant:t.attributes.ProductDetails?.find(a=>a.id===e.vId),variantIndex:t.attributes.ProductDetails?.reduce((a,t,r)=>a!==-1?a:t.id===e.vId?r:-1,-1),charity:t.attributes.Description?.find(e=>"product.charity-link"===e.__component)};return null}).filter(e=>null!==e)}catch(e){return e}}let N=(0,r.j)("fa4ee821436e1e0ceb4c6284d4ed54f5bbe14295",I);async function I(){try{return(await o("http://localhost:1337/api/categories")).data.map(e=>({sku:e.attributes.SKU??"",name:e.attributes.Name,description:e.attributes.ShortDescription??""}))}catch(e){return e}}let k=(0,r.j)("3aa443b67b604e664b2ba69fc634d56078b95e38",C);async function C(e){try{let a=await o(`http://localhost:1337/api/categories?filters[SKU][$eq]=${e}&populate[0]=Products`);if(!a.data.length)throw Error("No product found");return a.data[0]}catch(e){return e}}let P=(0,r.j)("917b7f0e0f0d5f4534d6b11822c9e26a34f3e737",S);async function S(e,a,t){(0,s.cookies)().set(e,a,t)}let z=(0,r.j)("984516e7c7c297b4f6a8d951bed2367936e293fb",E);async function E(e){return s.cookies().get(e)?.value}let D=(0,r.j)("5fbdcd9cd6aa89bb6659f550bd220d38ffe1d707",_);async function _(e){return(0,s.cookies)().delete(e)}(0,i.h)([l,d,u,m,h,g,v,w,N,k,P,z,D]),(0,r.j)("4f9de1cccf1905ec51e323f44e966a1a8cdc9d73",l),(0,r.j)("54a905bb6407b715be07099c6933de0b35d3080d",d),(0,r.j)("125cfabe0701eaebf26c0b27986d24d059ab1cae",u),(0,r.j)("1bc319d19bc2826f96db868b847c73364ec2c822",m),(0,r.j)("26b55164fb32dc0b575df0ce30f23b51e65c5d85",h),(0,r.j)("4cb8e9a8e005047a468328ab69d2617b27402f7e",g),(0,r.j)("4e5e95d168e33efb08bb5e9f5d639b315af93cae",v),(0,r.j)("8d0d025b29591fb0a84b2bba68ce52be209f8c77",w),(0,r.j)("a95f75fa805b78030491b3418b5df39c45a932bc",N),(0,r.j)("c9b0a83fff0eb181204dd715b93039c9e68f9433",k),(0,r.j)("64351141cae5934a52ac85ba1b37b39377aab9d6",P),(0,r.j)("4d72c7d3457ea873af6b38a6438ed28a853c3c31",z),(0,r.j)("eef48ae50c6ee2b51956373709bfc8e1fd71f027",D)},44896:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>C,metadata:()=>k});var r=t(19510),s=t(45317),i=t.n(s);t(5023);var o=t(68570);let l=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx`),{__esModule:n,$$typeof:d}=l;l.default;let c=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#ThemeProvider`);(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#ProductContext`),(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#ProductProvider`),(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#CartContext`);let u=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#CartProvider`);(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#FavoritesContext`);let p=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#FavoritesProvider`);(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#UserContext`);let m=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#UserProvider`),f=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/context.tsx#ContextListeners`),h=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/ui/nav-bar.tsx`),{__esModule:x,$$typeof:g}=h;h.default;let b=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/ui/nav-bar.tsx#NavBarStyled`);var v=t(99148);let y=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/ui/toaster.jsx`),{__esModule:w,$$typeof:j}=y;y.default;let N=(0,o.createProxy)(String.raw`/Users/alessioantonucci/progetti/Unica/ecommerce/prova/src/components/ui/toaster.jsx#Toaster`);var I=t(88894);let k={title:"Unica Jewelry",description:"Ecommerce di Unica"};async function C({favorite:e,auth:a,children:t}){let s=await (0,I.getAuthToken)();return r.jsx("html",{lang:"it",suppressHydrationWarning:!0,children:r.jsx("body",{className:i().className,children:r.jsx(c,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:r.jsx(m,{children:r.jsx(u,{children:(0,r.jsxs)(p,{children:[r.jsx(f,{loggedUserId:s?.decodedToken.uid}),r.jsx(N,{}),(0,r.jsxs)("div",{className:"flex flex-col h-screen",children:[r.jsx("div",{children:r.jsx(P,{user:s?.decodedToken})}),r.jsx("div",{className:"flex-grow h-full relative",children:t})]}),e,a]})})})})})})}async function P({user:e}){let a=await (0,v.getCategories)();return a instanceof Error?(0,r.jsxs)("div",{children:["Errore: ",a.message]}):r.jsx(b,{categories:a,account:e})}},65844:(e,a,t)=>{"use strict";t.d(a,{$:()=>s,c:()=>r});let r={cookieName:process.env.AUTH_COOKIE_NAME,cookieSignatureKeys:[process.env.AUTH_COOKIE_SIGNATURE_KEY_CURRENT,process.env.AUTH_COOKIE_SIGNATURE_KEY_PREVIOUS],cookieSerializeOptions:{path:"/",httpOnly:!0,secure:"true"===process.env.USE_SECURE_COOKIES,sameSite:"lax",maxAge:1036800},serviceAccount:{projectId:"unica-3d18c",clientEmail:process.env.FIREBASE_ADMIN_CLIENT_EMAIL,privateKey:process.env.FIREBASE_ADMIN_PRIVATE_KEY?.replace(/\\n/g,"\n")}},s={projectId:"unica-3d18c",apiKey:"AIzaSyA4SxhPobYVbiNpM6To9xXFmfs8Pz-YuPE",authDomain:"unica-3d18c.firebaseapp.com",databaseURL:"https://unica-ecommerce.europe-west1.firebasedatabase.app",messagingSenderId:"29827336752",appId:"1:29827336752:web:7fc72b927c53480cecbbf5",measurementId:"G-61K1R5KXG2",storageBucket:"unica-3d18c.appspot.com"}},5023:()=>{}};